---
title: "1st Order Spatial Point Patterns Analysis Methods"
subtitle: "Hands-on Exercise 3-1"
execute:
  warning: False  # This turns off warning messages being displayed
date: 15 January, 2024
date-modified: "last-modified"
---

# Overview

Spatial Point Pattern Analysis is the evaluation of the pattern or distribution, of a set of points on a surface. The point can be a location of:

-   events such as crime, traffic accident and disease onset

-   business services (coffee and fast-food outlets) or facilities such as childcare and elder-care

Using appropriate functions of `spatstat`, this hands-on exercise aims to discover the spatial point processes of childcare centers in Singapore.

The specific questions we would like to answer are as follows:

-   Are childcare centers in Singapore randomly distributed throughout the country?

-   If the answer is not, then the next logical question is where are the locations with higher concentration of childcare centers?

# The Data

To provide answers to the questions above, three data sets will be used. They are:

-   `CHILDCARE`

    -   a point feature data providing both location and attribute information of childcare centers.

    -   Downloaded from Data.gov.sg and is in geojson format

-   `MP14_SUBZONE_WEB_PL`

    -   a polygon feature data providing information of URA 2014 Master Plan Planning Subzone boundary data.

    -   Downloaded from Data.gov.sg and is in ESRI shapefile format

-   `CostalOutline`

    -   a polygon feature data showing the national boundary of Singapore.

    -   Provided by SLA and is in ESRI shapefile format

# Installing and Loading the R packages

In this hands-on exercise, five R packages will be used, they are:

-   [**sf**](https://r-spatial.github.io/sf/)

    -   a relatively new R package specially designed to import, manage and process vector-based geospatial data in R

-   [**spatstat**](https://spatstat.org/)

    -   which has a wide range of useful functions for point pattern analysis.

    -   In this hands-on exercise, it will be used to perform 1st- and 2nd-order spatial point patterns analysis and derive kernel density estimation (KDE) layer.

-   [**raster**](https://cran.r-project.org/web/packages/raster/)

    -   which reads, writes, manipulates, analyses and model gridded spatial data (i.e. raster).

    -   In this hands-on exercise, it will be used to convert image output generated by **spatstat** into raster format

-   [**maptools**](https://cran.r-project.org/web/packages/maptools/)

    -   which provides a set of tools for manipulating geographic data.

    -   In this hands-on exercise, we mainly use it to convert `Spatial` objects into `ppp` format of **spatstat**.

-   [**tmap**](https://cran.r-project.org/web/packages/tmap/)

    -   which provides functions for plotting cartographic quality static point pattern maps or interactive maps by using [leaflet](https://leafletjs.com/) API

Use the code below to install and launch the five R packages.

```{r}
pacman::p_load(maptools, sf, raster, spatstat, tmap)
```

# Spatial Data Wrangling

## Importing the spatial data

In this section, `st_read()` of **sf** package will be used to import these three geospatial data sets into R.

```{r}

```
